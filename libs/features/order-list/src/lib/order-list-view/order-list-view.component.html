<mat-toolbar class="toolbar-container">
  <mat-toolbar-row>
    <h3>Замовлення</h3>
    <span class="spacer"></span>
  </mat-toolbar-row>
</mat-toolbar>

<mat-table [dataSource]="orders()" class="h-fit">

  <!-- колонкі -->
  @for (column of columnsConfig; track column.columnName) {
    <ng-container [matColumnDef]="column.columnName">
      <mat-header-cell *matHeaderCellDef> {{ column.headerName }} </mat-header-cell>
      @if(column.columnType === 'date') {
        <mat-cell *matCellDef="let element"> {{ element[column.columnName] | date:"dd.MM.yy HH:mm" }} </mat-cell>
      } @else {
        <mat-cell *matCellDef="let element"> {{ element[column.columnName] }} </mat-cell>
      }

    </ng-container>
  }

  <!-- Рядки таблиці -->
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

  <!-- Пагінація -->
  <ng-container matColumnDef="paginator">
    <mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns.length">
      <mat-paginator
        (page)="onPageChange($event)"
        [length]="paginatorSettings().totalQty"
        [pageSize]="paginatorSettings().pageSize"
        [pageSizeOptions]="paginatorSettings().pageSizeOptions"
        [pageIndex]="paginatorSettings().pageNumber"
      ></mat-paginator>
    </mat-footer-cell>
  </ng-container>

  <mat-footer-row *matFooterRowDef="['paginator']; sticky: true"></mat-footer-row>

</mat-table>
